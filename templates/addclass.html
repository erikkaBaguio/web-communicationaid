<!DOCTYPE html>
<html>
<title>Communication Aid</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    <link rel="stylesheet" href="{{ url_for('.static', filename='css/bootstrap.min.css') }}" rel="stylesheet" id="bootstrap-css">
    <link rel="stylesheet" href="{{ url_for('.static', filename='css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('.static', filename='css/student.css') }}">
    <link rel="stylesheet" href="{{ url_for('.static', filename='css/W3.css') }}">




<style>
    body {font-family: "Times New Roman", Georgia, Serif;}

    h1,h2,h3,h4,h5,h6 {
        font-family: "Playfair Display";
        letter-spacing: 5px;
        }

    input[type=text] {
      width: 550px;
      box-sizing: border-box;
      border: 2px solid #ccc;
      border-radius: 4px;
      font-size: 16px;
      background-color: whitesmoke;
      background-position: 10px 10px;
      background-repeat: no-repeat;
      padding: 12px 20px 12px 40px;
      -webkit-transition: width 0.4s ease-in-out;
      transition: width 0.4s ease-in-out;
    }

    .panel-footer {
        padding: 0px 250px;
        background-color: #f5f5f5;
        border-top: 1px solid #ddd;
        border-bottom-right-radius: 3px;
        border-bottom-left-radius: 3px;
    }

    input[type=text]:focus {
      width: 95%;
        }
</style>

<body>

    <header>
        <center><h1>Add Class</h1></center>
    </header>


<!-- Page content -->
<div class="w3-content w3-display-container w3-content w3-wide" style="max-width:500px;min-width:500px">
    <br>
        <form method = "post" id="target" onsubmit="return false">
             <label>ClassName</label>
             <p><input id="class_name" name="class_name" placeholder="Enter class name" type="text"/></p>

              <div class="panel-footer">
                 <span class="pull-left">
                     <input class="btn btn-primary" id="btn" value="add" name"add" type="submit" onclick="addClass();"></input>
                 </span>
              </div>   
        </form>
            </div>
    
</div>   
<script type="text/javascript" src="static/js/jQuery-3.3.1.min.js"></script>
<script type="text/javascript" src="static/js/app.js"></script>

<script>
function addClass(){
    var class_name = $("#class_name").val();

    $.ajax({
        // url: 'http://127.0.0.1:5000/api/addClass',
        url: "https://mighty-badlands-16603.herokuapp.com/api/add_class",
        contentType: 'application/json; charset=utf-8',
        data: JSON.stringify({
            'classname': class_name
        }),    
        type: "POST",
        dataType: "json",
        crossDomain: true,
        // headers: {
        //  'x-access-token': tokens
        // },
        success: function () {
            console.log("success");
            alert("Added class success!");
            window.location.assign("/manageclass")
        },
        error: function () {
            console.log('error')
        },
        complete: function (jqXHR) {
            if (jqXHR.status == '401') {
                console.log(jqXHR.status)
            }
        }
    });
}

</script>

</body>
</html>
